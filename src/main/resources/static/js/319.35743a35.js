"use strict";(self["webpackChunkboard_site_front"]=self["webpackChunkboard_site_front"]||[]).push([[319],{360:function(e,t,a){a.d(t,{Z:function(){return d}});var i=a(3396);const l={class:"pagination"},s={class:"overflow-auto"},r={class:"mt-3"};function n(e,t,a,n,o,c){const g=(0,i.up)("b-pagination"),d=(0,i.up)("b-card");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(d,{style:{"justify-content":"center"}},{default:(0,i.w5)((()=>[(0,i._)("div",s,[(0,i._)("div",r,[(0,i.Wm)(g,{modelValue:e.ex4CurrentPage,"onUpdate:modelValue":t[0]||(t[0]=t=>e.ex4CurrentPage=t),pills:"","total-rows":e.ex4Rows,onPageClick:c.pageClick,"per-page":e.perPage,currPage:a.currPage},null,8,["modelValue","total-rows","onPageClick","per-page","currPage"])])])])),_:1}),(0,i.WI)(e.$slots,"default")])}var o={props:{pageListItem:Number,pageTotal:Number,currPage:{type:Number,default:1}},data:function(){return{ex4CurrentPage:this.currPage,ex4Rows:this.pageTotal,perPage:this.pageListItem}},created(){console.log(this.currPage)},methods:{pageClick:function(e,t){this.ex4CurrentPage=t,this.$emit("pageCurrent",this.ex4CurrentPage)}}},c=a(89);const g=(0,c.Z)(o,[["render",n]]);var d=g},1319:function(e,t,a){a.r(t),a.d(t,{default:function(){return q}});var i=a(3396),l=a(7139),s=a(9242);const r=(0,i.uE)('<section class="py-5 text-center container"><div class="row py-5"><div class="col-lg-12 mx-auto"><div class="text-white p-5 shadow-sm rounded banner"><h1 class="display-4">좋아요 목록</h1></div></div></div></section>',1),n={class:"album py-5 bg-light"},o={class:"container"},c={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"},g=["onClick"],d={class:"card shadow-sm"},u={key:0,class:"bd-placeholder-img card-img-top",width:"100%",height:"225",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Placeholder: Thumbnail",preserveAspectRatio:"xMidYMid slice",focusable:"false"},h=(0,i._)("title",null,"Placeholder",-1),p=(0,i._)("rect",{width:"100%",height:"100%",fill:"#55595c"},null,-1),m=[h,p],k=["src"],_={class:"card-body"},w={class:"card-text"},v={class:"d-flex justify-content-between align-items-center"},C={class:"btn-group"},f={class:"text-muted"},y=["src","onClick"],P={class:"text-muted"},b={class:"text-muted"},x=(0,i.Uk)("가격:"),T={class:"deco"},L=(0,i.Uk)(),S={style:{color:"red"}};function z(e,t,a,h,p,z){const D=(0,i.up)("BlackBg"),$=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)(i.HY,null,[r,(0,i._)("div",n,[(0,i._)("div",o,[(0,i._)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.like_list,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"col curcus",key:a,onClick:e=>z.todoCclick(t.id)},[(0,i._)("div",d,[t.img_chk?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("svg",u,m)),t.img_chk?((0,i.wg)(),(0,i.iD)("img",{key:1,src:t.img,class:"bd-placeholder-img card-img-top",width:"100%",height:"225"},null,8,k)):(0,i.kq)("",!0),(0,i._)("div",_,[(0,i._)("p",w,(0,l.zw)(t.title),1),(0,i._)("div",v,[(0,i._)("div",C,[(0,i._)("p",null,(0,l.zw)(t.name)+" ("+(0,l.zw)(t.city)+")",1)]),(0,i._)("small",f,"조회 : "+(0,l.zw)(t.read_count),1),(0,i._)("img",{src:e.heartFill,style:{width:"28px"},onClick:(0,s.iM)((e=>z.likeBtn(t.id)),["stop"])},null,8,y)]),(0,i._)("small",P,(0,l.zw)(t.start_de)+" ~ "+(0,l.zw)(t.end_de),1),(0,i._)("div",null,[(0,i._)("small",b,[x,(0,i._)("span",T,(0,l.zw)(t.real_pay),1),L,(0,i._)("span",S,(0,l.zw)(t.sale_percent),1),(0,i.Uk)(" "+(0,l.zw)(t.sale_pay),1)])])])])],8,g)))),128))])])]),e.loading?((0,i.wg)(),(0,i.j4)(D,{key:0})):(0,i.kq)("",!0),e.pageChk?((0,i.wg)(),(0,i.j4)($,{key:1,pageListItem:e.pageListItem,onPageCurrent:z.pageCurr,pageTotal:e.pageTotal,currPage:e.currPage},null,8,["pageListItem","onPageCurrent","pageTotal","currPage"])):(0,i.kq)("",!0)],64)}var D=a(360),$=a(5033),I=a(5414),B=a(8890),Z={data:function(){return{pageListItem:9,page:0,travel_title:"",pageTotal:0,currPage:1,pageChk:!1,like_list:[],loading:!1,heart:I,heartFill:B}},components:{Pagination:D.Z,BlackBg:$.Z},created(){this.init()},methods:{init(){this.likeList()},likeList(){const e={Authorization:"Bearer "+sessionStorage.getItem("token")};let t={page:this.page};this.loading=!0,this.$axios.get("/api/trip/like/list",{headers:e,params:t}).then((e=>{"SUCCESS"==e.data.resultCode&&(this.pageTotal=e.data.result.totalElements,this.like_list=[],e.data.result.content.forEach((e=>{let t=[];t.title=e.talTitle,t.name=e.taName,t.id=e.talId,t.city=e.talCity,t.start_de=this.$splitDateHyphen(e.talTravelStartAt),t.end_de=this.$splitDateHyphen(e.talTravelEndAt),t.read_count=e.talReadCount,t.real_pay=e.talRealPaid+"원",t.sale_percent=e.talSalePercent+"%",t.sale_pay=e.talSalePaid+"원",null==e.talThumbnail||""==e.talThumbnail?t.img_chk=!1:t.img_chk=!0,t.img_chk&&this.$axios.get("/api/common/image/"+e.talThumbnail+"/1").then((e=>{t.img=e.data})).catch((()=>{})).finally((()=>{})),this.like_list.push(t)})))})).catch((()=>{this.$swal("","잠시후 다시 이용해주세요.","error")})).finally((()=>{0==this.pageTotal?this.pageChk=!1:this.pageChk=!0,this.loading=!1}))},pageCurr(e){this.page=e-1,this.likeList()},travelSearch(){this.page=0,this.pageChk=!1,this.likeList()},todoCclick(e){this.$router.push({path:"/TravelDetail",name:"travelDetail",query:{sn:e}})},likeBtn(e){const t={Authorization:"Bearer "+sessionStorage.getItem("token")};this.$axios.post("/api/trip/agency-trip/like/"+e,"",{headers:t}).then((e=>{"SUCCESS"==e.data.resultCode&&((this.pageTotal-1)%9==0&&(this.pageChk=!1,this.currPage=(this.pageTotal-1)/9,this.page=(this.pageTotal-1)/9-1),this.likeList())})).catch((()=>{this.$swal("","잠시후 다시 이용해주세요.","error")})).finally((()=>{}))}}},E=a(89);const U=(0,E.Z)(Z,[["render",z]]);var q=U},5033:function(e,t,a){a.d(t,{Z:function(){return g}});var i=a(3396);const l=(0,i._)("div",{class:"customdis"},[(0,i._)("div",{class:"spinner-border text-secondary",style:{width:"3rem",height:"3rem"},role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")])],-1),s=[l];function r(e,t,a,l,r,n){return(0,i.wg)(),(0,i.iD)("div",{class:"black-bg",onClick:t[0]||(t[0]=t=>e.$emit("close"))},s)}var n={},o=a(89);const c=(0,o.Z)(n,[["render",r]]);var g=c},8890:function(e,t,a){e.exports=a.p+"img/heart-fill.1e4c3599.svg"},5414:function(e,t,a){e.exports=a.p+"img/heart.22265d64.svg"}}]);
//# sourceMappingURL=319.35743a35.js.map