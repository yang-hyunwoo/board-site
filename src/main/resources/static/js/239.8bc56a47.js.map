{"version":3,"file":"js/239.8bc56a47.js","mappings":"mMAISA,MAAM,Q,0CAAXC,EAAAA,EAAAA,IAEI,MAFJ,EAAkB,kB,CAStB,OACEC,WAAY,CAAC,EAGdC,KAAM,WACH,MAAO,CACLC,MAAM,GACNC,SAAS,GACTC,SAAQ,EACRC,YAAY,GACZC,UAAU,GAEb,EACDC,UACE,IAAIC,EAAWC,KAAKC,eAAeC,SAASC,MAC5CH,KAAKI,kBAAkBL,EAASM,KAAON,EAASO,MAAMP,EAASQ,cAChE,EACDC,QAAS,CACPP,eAAeQ,GACZ,IAAIC,EAAaD,EAAIE,MAAM,KACtBC,EAAQF,EAAW,GACnBG,EAAS,CAAC,EAKd,OAJAD,EAAMD,MAAM,KAAKG,SAAQ,SAASC,GAChC,IAAIC,EAAOD,EAAKJ,MAAM,KACtBE,EAAOG,EAAK,IAAMC,mBAAmBD,EAAK,GAC3C,IACMH,CACV,EAGDT,kBAAkBC,EAAKC,EAAMC,GAC3B,IAAIW,EAAY,CACZ,KAASb,EACT,MAAUC,EACV,cAAiBC,GAErBP,KAAKmB,OAAOC,IAAIC,qBAAwC,CAACC,OAAOJ,IAAYK,MAAMC,IACvD,WAArBA,EAAIhC,KAAKiC,aACPC,OAAOC,QACPC,OAAO1B,SAASC,KAAK,wBACrB0B,aAAaC,QAAQ,QAAQN,EAAIhC,KAAKqB,OAAOkB,OAC7CL,OAAOE,OAAOI,eAAeF,QAAQ,QAAQN,EAAIhC,KAAKqB,OAAOkB,OACjE,IACCE,OAAM,SACNC,SAAQ,QAGf,I,QCrDJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://board-site-front/./src/components/login/NaverLoginCallback.vue","webpack://board-site-front/./src/components/login/NaverLoginCallback.vue?d810"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template >\r\n <!-- <body class=\"text-center\">\r\n<main class=\"form-signin w-100 m-auto\">  -->\r\n    <div class=\"ares\">\r\n       잠시만 기다려주세요...\r\n  </div>\r\n\r\n\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  components: {\r\n  },\r\n\r\n\tdata: function () {\r\n    return {\r\n      email:\"\",\r\n      password:\"\",\r\n      loading:false,\r\n      callbackUrl:'',\r\n      client_id:'',\r\n    }\r\n  },\r\n  mounted() {\r\n    let naverUrl = this.getJsonFromUrl(location.href);    //네이버 팝업의 주소를 받아서 code / state를 가져온다.\r\n    this.naverCodeCallback(naverUrl.code , naverUrl.state,naverUrl.refresh_token);\r\n  },\r\n  methods: {\r\n    getJsonFromUrl(url) {\r\n       var querysplit = url.split(\"?\");\r\n        var query = querysplit[1];\r\n        var result = {};\r\n        query.split(\"&\").forEach(function(part) {\r\n          var item = part.split(\"=\");\r\n          result[item[0]] = decodeURIComponent(item[1]);\r\n        });\r\n        return result;\r\n    },\r\n\r\n    //네이버의 code 와  state를 가지고 사용자를 조회 및 db에 저장을 한다.\r\n    naverCodeCallback(code,state,refresh_token) {\r\n      let parameter = {\r\n          \"code\" : code,\r\n          \"state\" : state,\r\n          \"refresh_token\": refresh_token\r\n        }\r\n      this.$axios.get(process.env.VUE_APP_NAVER_CALLBACK_CODE,{params:parameter}).then((res) =>{\r\n         if(res.data.resultCode==\"SUCCESS\"){\r\n              window.close();\r\n              opener.location.href=\"http://localhost:8081\";\r\n              localStorage.setItem(\"token\",res.data.result.token);\r\n              window.opener.sessionStorage.setItem(\"token\",res.data.result.token);\r\n          }\r\n        }).catch(() => {\r\n        }).finally(() => {\r\n        });\r\n\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n</script>\r\n\r\n\r\n<style>\r\n    .ares{\r\n        display: flex;\r\n        text-align: center;\r\n        justify-content: center;\r\n        margin-top: 16rem;\r\n        background: #f5f5f5;\r\n    }\r\n    html {\r\n        background: #f5f5f5;\r\n    }\r\n\r\n    .matop {\r\n        margin-top: 0.5rem;\r\n    }\r\n    .bd-placeholder-img {\r\n        font-size: 1.125rem;\r\n        text-anchor: middle;\r\n        -webkit-user-select: none;\r\n        -moz-user-select: none;\r\n        user-select: none;\r\n      }\r\n\r\n      @media (min-width: 768px) {\r\n        .bd-placeholder-img-lg {\r\n          font-size: 3.5rem;\r\n        }\r\n      }\r\n\r\n      .b-example-divider {\r\n        height: 3rem;\r\n        background-color: rgba(0, 0, 0, .1);\r\n        border: solid rgba(0, 0, 0, .15);\r\n        border-width: 1px 0;\r\n        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);\r\n      }\r\n\r\n      .b-example-vr {\r\n        flex-shrink: 0;\r\n        width: 1.5rem;\r\n        height: 100vh;\r\n      }\r\n\r\n      .bi {\r\n        vertical-align: -.125em;\r\n        fill: currentColor;\r\n      }\r\n\r\n      .nav-scroller {\r\n        position: relative;\r\n        z-index: 2;\r\n        height: 2.75rem;\r\n        overflow-y: hidden;\r\n      }\r\n\r\n      .nav-scroller .nav {\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        padding-bottom: 1rem;\r\n        margin-top: -1px;\r\n        overflow-x: auto;\r\n        text-align: center;\r\n        white-space: nowrap;\r\n        -webkit-overflow-scrolling: touch;\r\n      } \r\n    </style>\r\n\r\n","import { render } from \"./NaverLoginCallback.vue?vue&type=template&id=09c1a13e\"\nimport script from \"./NaverLoginCallback.vue?vue&type=script&lang=js\"\nexport * from \"./NaverLoginCallback.vue?vue&type=script&lang=js\"\n\nimport \"./NaverLoginCallback.vue?vue&type=style&index=0&id=09c1a13e&lang=css\"\n\nimport exportComponent from \"C:\\\\Git_project\\\\board-site\\\\front-end\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","components","data","email","password","loading","callbackUrl","client_id","mounted","naverUrl","this","getJsonFromUrl","location","href","naverCodeCallback","code","state","refresh_token","methods","url","querysplit","split","query","result","forEach","part","item","decodeURIComponent","parameter","$axios","get","process","params","then","res","resultCode","window","close","opener","localStorage","setItem","token","sessionStorage","catch","finally","__exports__","render"],"sourceRoot":""}