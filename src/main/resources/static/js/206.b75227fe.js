"use strict";(self["webpackChunkboard_site_front"]=self["webpackChunkboard_site_front"]||[]).push([[206],{2206:function(e,t,a){a.r(t),a.d(t,{default:function(){return x}});var l=a(3396),r=a(9242),i=a(7139);const s={class:"py-5 text-center container"},n={class:"row py-5"},o={class:"col-lg-12 mx-auto"},c={class:"text-white p-5 shadow-sm rounded banner"},u=(0,l._)("h1",{class:"display-4"},"게시판",-1),p=(0,l._)("option",{selected:"",value:"TITLE"},"제목",-1),d=(0,l._)("option",{value:"NICKNAME"},"닉네임",-1),h=[p,d],g=(0,l._)("colgroup",null,[(0,l._)("col"),(0,l._)("col")],-1),m=(0,l._)("colgroup",null,[(0,l._)("col")],-1),_=(0,l._)("colgroup",null,[(0,l._)("col")],-1),f=(0,l.Uk)("제목"),w=(0,l.Uk)("작성자"),k=(0,l.Uk)("작성일"),C=(0,l.Uk)("조회수");function y(e,t,a,p,d,y){const b=(0,l.up)("b-th"),v=(0,l.up)("b-tr"),P=(0,l.up)("b-thead"),W=(0,l.up)("b-td"),x=(0,l.up)("b-tbody"),L=(0,l.up)("b-table-simple"),T=(0,l.up)("Pagination");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("section",s,[(0,l._)("div",n,[(0,l._)("div",o,[(0,l._)("div",c,[u,(0,l.wy)((0,l._)("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":t[0]||(t[0]=t=>e.search_type=t)},h,512),[[r.bM,e.search_type]]),(0,l.wy)((0,l._)("input",{style:{"margin-left":"1rem"},class:"form-control mr-sm-2 custombar",type:"search","aria-label":"Search","onUpdate:modelValue":t[1]||(t[1]=t=>e.article_title=t),onKeyup:t[2]||(t[2]=(0,r.D2)(((...e)=>y.articleSearch&&y.articleSearch(...e)),["enter"]))},null,544),[[r.nr,e.article_title]]),(0,l._)("button",{class:"btn btn-outline-success my-2 my-sm-0",style:{"margin-left":"1rem"},onClick:t[3]||(t[3]=(...e)=>y.articleSearch&&y.articleSearch(...e))},"Search")])])]),(0,l.Wm)(L,{hover:"",small:"","caption-top":"",responsive:""},{default:(0,l.w5)((()=>[g,m,_,(0,l.Wm)(P,{"head-variant":"dark"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[f])),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[w])),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[k])),_:1}),(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[C])),_:1})])),_:1})])),_:1}),(0,l.Wm)(x,{style:{cursor:"pointer"}},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.article_list,((e,t)=>((0,l.wg)(),(0,l.j4)(v,{onClick:t=>y.articleDetailClick(e.id),key:t},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{style:{"text-align":"start","text-overflow":"ellipsis"}},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.title),1)])),_:2},1024),(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.nickname),1)])),_:2},1024),(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.created_at),1)])),_:2},1024),(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(e.read_count),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),(0,l._)("button",{style:{float:"right"},type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>y.writer&&y.writer(...e))},"글작성")]),e.pageChk?((0,l.wg)(),(0,l.j4)(T,{key:0,pageListItem:e.pageListItem,onPageCurrent:y.pageCurr,pageTotal:e.pageTotal},null,8,["pageListItem","onPageCurrent","pageTotal"])):(0,l.kq)("",!0)],64)}var b=a(360),v={data:function(){return{pageListItem:10,page:0,pageTotal:0,pageChk:!1,article_title:"",article_list:[],loading:!1,search_type:"TITLE"}},components:{Pagination:b.Z},created(){this.init()},methods:{init(){this.articleList()},articleList(){let e={page:this.page,searchKeyWord:this.article_title,searchType:this.search_type};this.$axios.get("/api/trip/articles",{params:e}).then((e=>{"SUCCESS"==e.data.resultCode&&(console.log(e.data),this.pageTotal=e.data.result.totalElements,this.article_list=[],e.data.result.content.forEach((e=>{let t=[];t.title=e.title,t.nickname=e.nickName,t.id=e.id,t.created_at=this.$splitDateHyphenLo(e.createdAt),t.read_count=e.readCount,this.article_list.push(t)})))})).catch((()=>{this.$swal("","잠시후 다시 이용해주세요.","error")})).finally((()=>{this.pageChk=!0}))},articleSearch(){this.page=0,this.pageChk=!1,this.articleList()},pageCurr(e){this.page=e-1,this.articleList()},articleDetailClick(e){this.$router.push({path:"/articleDetail",name:"articleDetail",query:{sn:e}})},writer(){this.$tokenCheck()?this.$router.push("/articleWrite"):this.$router.push("/login")}}},P=a(89);const W=(0,P.Z)(v,[["render",y]]);var x=W},360:function(e,t,a){a.d(t,{Z:function(){return p}});var l=a(3396);const r={class:"pagination"},i={class:"overflow-auto"},s={class:"mt-3"};function n(e,t,a,n,o,c){const u=(0,l.up)("b-pagination"),p=(0,l.up)("b-card");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(p,{style:{"justify-content":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",i,[(0,l._)("div",s,[(0,l.Wm)(u,{modelValue:e.ex4CurrentPage,"onUpdate:modelValue":t[0]||(t[0]=t=>e.ex4CurrentPage=t),pills:"","total-rows":e.ex4Rows,onPageClick:c.pageClick,"per-page":e.perPage,currPage:a.currPage},null,8,["modelValue","total-rows","onPageClick","per-page","currPage"])])])])),_:1}),(0,l.WI)(e.$slots,"default")])}var o={props:{pageListItem:Number,pageTotal:Number,currPage:{type:Number,default:1}},data:function(){return{ex4CurrentPage:this.currPage,ex4Rows:this.pageTotal,perPage:this.pageListItem}},created(){console.log(this.currPage)},methods:{pageClick:function(e,t){this.ex4CurrentPage=t,this.$emit("pageCurrent",this.ex4CurrentPage)}}},c=a(89);const u=(0,c.Z)(o,[["render",n]]);var p=u}}]);
//# sourceMappingURL=206.b75227fe.js.map