"use strict";(self["webpackChunkboard_site_front"]=self["webpackChunkboard_site_front"]||[]).push([[812],{5960:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var l=a(3396),i=a(7139);const s=e=>((0,l.dD)("data-v-5427a5bc"),e=e(),(0,l.Cn)(),e),n={class:"margincustom margintpcust"},r={class:"margincustom",style:{"margin-top":"2rem"}},c=s((()=>(0,l._)("br",null,null,-1))),o=s((()=>(0,l._)("br",null,null,-1))),d={class:"d-flex flex-column comment-section"},g={class:"bg-light p-2"},u={class:"album py-5 bg-light"},p={class:"container"},h={class:"row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3"},m=["onClick"],_={class:"card shadow-sm"},w={key:0,class:"bd-placeholder-img card-img-top",width:"100%",height:"225",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Placeholder: Thumbnail",preserveAspectRatio:"xMidYMid slice",focusable:"false"},y=s((()=>(0,l._)("rect",{width:"100%",height:"100%",fill:"#55595c"},null,-1))),v=s((()=>(0,l._)("text",{x:"50%",y:"50%",fill:"#eceeef",dy:".3em"},"Thumbnail",-1))),k=[y,v],f=["src"],C={class:"card-body"},b={class:"card-text"},x={class:"d-flex justify-content-between align-items-center"},P={class:"btn-group"},I={class:"text-muted"},T={class:"text-muted"},z={class:"text-muted"},D=(0,l.Uk)("가격:"),$={class:"deco"},L=(0,l.Uk)(),U={style:{color:"red"}};function q(e,t,a,s,y,v){const q=(0,l.up)("ToastViewer"),S=(0,l.up)("BlackBg"),Z=(0,l.up)("Pagination");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",n,[(0,l._)("h2",null,(0,i.zw)(e.agency_name),1)]),(0,l._)("div",r,[(0,l.Uk)((0,i.zw)(e.agency_comment)+" ",1),c,(0,l.Uk)(" "+(0,i.zw)(e.agency_address)+" ",1),o,(0,l.Uk)(" "+(0,i.zw)(e.agency_tel),1)]),e.detail_viewer?((0,l.wg)(),(0,l.j4)(q,{key:0,content:e.content},null,8,["content"])):(0,l.kq)("",!0),(0,l._)("div",d,[(0,l._)("div",g,[(0,l._)("h3",null,(0,i.zw)(e.agency_name)+" 의 여행 목록",1),(0,l._)("div",u,[(0,l._)("div",p,[(0,l._)("div",h,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.travel_list,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"col curcus cursor",key:t,onClick:t=>v.todoCclick(e.id)},[(0,l._)("div",_,[e.img_chk?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("svg",w,k)),e.img_chk?((0,l.wg)(),(0,l.iD)("img",{key:1,class:"bd-placeholder-img card-img-top",width:"100%",height:"225",src:e.img},null,8,f)):(0,l.kq)("",!0),(0,l._)("div",C,[(0,l._)("p",b,(0,i.zw)(e.title),1),(0,l._)("div",x,[(0,l._)("div",P,[(0,l._)("p",null,(0,i.zw)(e.name)+" ("+(0,i.zw)(e.city)+")",1)]),(0,l._)("small",I,"조회 : "+(0,i.zw)(e.read_count),1)]),(0,l._)("small",T,(0,i.zw)(e.start_de)+" ~ "+(0,i.zw)(e.end_de),1),(0,l._)("div",null,[(0,l._)("small",z,[D,(0,l._)("span",$,(0,i.zw)(e.real_pay),1),L,(0,l._)("span",U,(0,i.zw)(e.sale_percent),1),(0,l.Uk)(" "+(0,i.zw)(e.sale_pay),1)])])])])],8,m)))),128))])])])])]),e.loading?((0,l.wg)(),(0,l.j4)(S,{key:1})):(0,l.kq)("",!0),e.pageChk?((0,l.wg)(),(0,l.j4)(Z,{key:2,pageListItem:e.pageListItem,onPageCurrent:v.pageCurr,pageTotal:e.pageTotal},null,8,["pageListItem","onPageCurrent","pageTotal"])):(0,l.kq)("",!0)],64)}var S=a(5065),Z=a(5033),j=a(360),V={data:function(){return{articleId:this.$route.query.sn,loading:!1,pageListItem:3,page:0,pageTotal:0,pageChk:!1,title:"",agency_name:"",agency_comment:"",detail_viewer:!1,content:"",travel_list:[],agency_address:"",agency_tel:""}},components:{ToastViewer:S.Z,BlackBg:Z.Z,Pagination:j.Z},created(){this.init()},methods:{init(){this.agencyInit()},agencyInit(){this.loading=!0,this.$axios.get("/api/trip/agency/"+this.articleId).then((e=>{"SUCCESS"==e.data.resultCode&&(this.agency_name=e.data.result.name,this.agency_comment=e.data.result.comment,this.agency_address=e.data.result.address,this.agency_tel=e.data.result.tel,this.content=e.data.result.detail)})).catch((e=>{this.$swal("",e.response.data.result,"error")})).finally((()=>{this.detail_viewer=!0,this.agencyTravelListInit()}))},agencyTravelListInit(){let e={page:this.page};this.$axios.get("/api/trip/agency-trip/triplist/"+this.articleId,{params:e}).then((e=>{"SUCCESS"==e.data.resultCode&&(this.pageTotal=e.data.result.totalElements,this.travel_list=[],e.data.result.content.forEach((e=>{let t=[];t.title=e.title,t.name=e.travelAgencyName,t.id=e.id,t.city=e.city,t.start_de=this.$splitDateHyphen(e.travel_start_at),t.end_de=this.$splitDateHyphen(e.travel_end_at),t.read_count=e.read_count,t.real_pay=e.real_paid+"원",t.sale_percent=e.sale_percent+"%",t.sale_pay=e.sale_paid+"원",null==e.thumnbnailFileId||""==e.thumnbnailFileId?t.img_chk=!1:t.img_chk=!0,t.img="/api/common/image/thumb/"+e.thumnbnailFileId+"/1",this.travel_list.push(t)})),0==this.pageTotal?this.pageChk=!1:this.pageChk=!0)})).catch((e=>{this.$swal("",e.response.data.result,"error")})).finally((()=>{this.loading=!1}))},pageCurr(e){this.page=e-1,this.agencyTravelListInit()},todoCclick(e){this.$router.push({path:"/TravelDetail",name:"travelDetail",query:{sn:e}})}}},B=a(89);const E=(0,B.Z)(V,[["render",q],["__scopeId","data-v-5427a5bc"]]);var H=E},360:function(e,t,a){a.d(t,{Z:function(){return g}});var l=a(3396);const i={class:"pagination"},s={class:"overflow-auto"},n={class:"mt-3"};function r(e,t,a,r,c,o){const d=(0,l.up)("b-pagination"),g=(0,l.up)("b-card");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(g,{style:{"justify-content":"center"}},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",n,[(0,l.Wm)(d,{modelValue:e.ex4CurrentPage,"onUpdate:modelValue":t[0]||(t[0]=t=>e.ex4CurrentPage=t),pills:"","total-rows":e.ex4Rows,onPageClick:o.pageClick,"per-page":e.perPage,currPage:a.currPage},null,8,["modelValue","total-rows","onPageClick","per-page","currPage"])])])])),_:1}),(0,l.WI)(e.$slots,"default")])}var c={props:{pageListItem:Number,pageTotal:Number,currPage:{type:Number,default:1}},data:function(){return{ex4CurrentPage:this.currPage,ex4Rows:this.pageTotal,perPage:this.pageListItem}},created(){console.log(this.currPage)},methods:{pageClick:function(e,t){this.ex4CurrentPage=t,this.$emit("pageCurrent",this.ex4CurrentPage)}}},o=a(89);const d=(0,o.Z)(c,[["render",r]]);var g=d}}]);
//# sourceMappingURL=812.ae1dea57.js.map