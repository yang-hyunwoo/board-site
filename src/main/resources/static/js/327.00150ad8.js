"use strict";(self["webpackChunkboard_site_front"]=self["webpackChunkboard_site_front"]||[]).push([[327],{8327:function(t,e,n){n.r(e),n.d(e,{default:function(){return m}});var i=n(3396),a=n(9242);const o={class:"input-group mb-3",style:{"margin-top":"1rem"}},l={style:{display:"flex","justify-content":"end"}};function r(t,e,n,r,s,c){const u=(0,i.up)("ToastEditor");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",o,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.title=e),class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",placeholder:"제목을 입력해주세요."},null,512),[[a.nr,t.title]])]),(0,i.Wm)(u,{onContentChange:c.editorContent},null,8,["onContentChange"]),(0,i._)("div",l,[(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=(...t)=>c.regArticle&&c.regArticle(...t))},"등록")])],64)}var s=n(6171),c=n(4870),u={__name:"ToastEditor",emits:["contentChange"],setup(t,{emit:e}){const a=(0,c.iH)(null),o=n(6265);return(0,i.bv)((()=>{console.log("onMounted");const t=new s.ZP({el:a.value,height:"500px",initialValue:"",initialEditType:"wysiwyg",previewStyle:"tab",useDefaultHTMLSanitizer:!1,language:"ko-KR",usageStatistics:!1,hideModeSwitch:!0,hooks:{addImageBlobHook:(t,e)=>{const n={"content-type":"multipart/form-data"},i=new FormData;i.append("multiFile",t),o.post("/api/common/file-upload",i,{headers:n}).then((t=>{console.log(t),console.log(t.data[0].fileChildId),e(t.data[0].filePath)})).catch((()=>{})).finally((()=>{}))}},events:{change:()=>e("contentChange",t.getHTML())},toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task"],["table","image","link"],["scrollSync"]]})})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",{ref_key:"refEditor",ref:a},null,512))}};const d=u;var h=d,p={data:function(){return{articleId:0,contentChange:"",title:""}},components:{ToastEditor:h},created(){},methods:{editorContent(t){this.contentChange=t},regArticle(){const t={Authorization:"Bearer "+sessionStorage.getItem("token")};var e=this.contentChange;if(e=e.replace(/&nbsp;/gi,""),e=e.replace(/<br>/gi,""),e=e.replace(/ /gi,""),this.$emptyChk(this.title))return void this.$swal("","제목을 입력해주세요.","warning");if("<p></p>"==e||""==e)return void this.$swal("","내용을 입력해주세요.","warning");let n={title:this.title,content:this.contentChange};this.$axios.post("/api/trip/articles/new-article",n,{headers:t}).then((t=>{"SUCCESS"==t.data.resultCode&&(this.$swal("","저장되었습니다.","success"),this.$router.push("/article"))})).catch((()=>{})).finally((()=>{}))}}},g=n(89);const f=(0,g.Z)(p,[["render",r]]);var m=f}}]);
//# sourceMappingURL=327.00150ad8.js.map